@model IEnumerable<NIPv1.Models.Data>

@{
    ViewBag.Title = "Dane";
}

<h2>Wyszukiwanie</h2>

@using (Html.BeginForm("Index", "Data", FormMethod.Get))
{
    <p>
        Wyszukaj po NIP/KRS/REGON: @Html.TextBox("searchString", ViewBag.CurrentFilter as string)
        <input type="submit" value="Pobierz dane" />
    </p>
}

@if (Model == null) {}
else
{
    <table class="table">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.NIP)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.KRS)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.REGON)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.nazwa)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ulica)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.nr_domu)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.kod_pocztowy)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.miasto)
            </th>
        </tr>
        @if (Model.Any())
        {
            foreach (var item in Model)
             {
                 <tr>
                     <td>
                         @Html.DisplayFor(modelItem => item.NIP)
                     </td>
                     <td>
                         @Html.DisplayFor(modelItem => item.KRS)
                     </td>
                     <td>
                         @Html.DisplayFor(modelItem => item.REGON)
                     </td>
                     <td>
                         @Html.DisplayFor(modelItem => item.nazwa)
                     </td>
                     <td>
                         @Html.DisplayFor(modelItem => item.ulica)
                     </td>
                     <td>
                         @Html.DisplayFor(modelItem => item.nr_domu)
                     </td>
                     <td>
                         @Html.DisplayFor(modelItem => item.kod_pocztowy)
                     </td>
                     <td>
                         @Html.DisplayFor(modelItem => item.miasto)
                     </td>
                 </tr>
             }
        }
        else
        {
            <p> <font color="red" size="15px">Nie znaleziono takiego numeru w bazie danych.</font></p>
        }

    </table>
}

